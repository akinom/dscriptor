solrStatiticsServer: http://localhost:18082/solr/statistics
verbose: true

# select with query then define factes with params
# optionally list ips to exclude with ips list

# type contansts
# "bitstream" => {"type" => 0}
# "item" => {"type" => 2},
# "collection" => {"type" => 3}
# "community" => {"type" => 4}}

# example QUERIES
# all bitstreams in original bundles requested by bots
#query : { type: 0 ,   bundleName: 'ORIGINAL',  isBot: true }

# all bitstreams in original bundles in a given community
# query : { type: 0 ,   bundleName: 'ORIGINAL',  owningComm: 267 }

# a particular bitstream
# query : {    type: 0 , id: 82293 }

# a particular item
# query : {    type: 2 , id: 65150 }
# a particular collection
# query : {    type: 3 , id: 378 }

# a particular community
# query : {    type: 0 , id: 267 }


# example FACETS

# facet on ip example
# facet:true  fq.field:ip  => fact on ip 
# fact.mincount: 1   only include if at least one access 
# facet.time: include only if time in given time range
# rows: return one matching document - so we can check we do the right query 
# params:  { facet: true , facet.field: 'ip', facet.mincount: 1, rows: 1,
#            fq: 'time:[2015-06-01T00:00:00.000Z TO NOW]' }

# assuming we query for bitstreams - facet on bundleName
#

# find all bundlename settings used in time slot
query : { type: 0  }
neg_query : '(bundleName:TEXT OR bundleName:THUMBNAIL)'

params : { facet: true , facet.field: 'bundleName', facet.mincount: 1,
            fq: 'time:[2015-05-25T00:00:00.000Z TO 2015-07-20T13:57:16.843Z]',
            rows: 3 }


#params : { fq: 'time:[2015-05-24T00:00:00.000Z TO 2015-05-25T13:57:16.843Z]',
#            rows: 5 }


#yandex ips
# ip: (100.43.81.139 OR 100.43.81.140 OR 100.43.81.143 OR 100.43.85.18 OR 100.43.90.11 OR 100.43.90.12 OR 100.43.90.13 OR 100.43.90.8 OR 100.43.91.12 OR 100.43.91.22 OR 100.43.91.4 OR 31.22.4.59 OR 5.45.254.226 OR 100.43.81.150) 

#yandex ips 
# ip: (100.43.81.139 OR 100.43.81.140 OR 100.43.81.143 OR 100.43.85.18 OR 100.43.90.11 OR 100.43.90.12 OR 100.43.90.13 OR 100.43.90.8 OR 100.43.91.12 OR 100.43.91.22 OR 100.43.91.4 OR 31.22.4.59 OR 5.45.254.226 OR 100.43.81.150) 
